<include file="public@header"/>
</head>
<body>
<div class="wrap js-check-wrap">
    <ul class="nav nav-tabs">
        <li><a href="{:url('iot/cellGates')}">网关单元格</a></li>
        <li class="active"><a>网关log下载列表</a></li>
    </ul>
    <form class="form-horizontal js-ajax-form margin-top-20" action="{:url('')}" method="post">
        <div class="form-group">
            <label class="col-sm-2 control-label"><span class="form-required">*</span>log下载列表:</label>
        </div>
        <div class="form-group" style="padding-left: 10%">
            <table class="table table-hover table-bordered table-list" style="width: 50%">
                <thead>
                <tr>
                    <th>创建时间</th>
                    <th>log名称</th>
                    <th>操作</th>
                </tr>
                </thead>
                <tbody>
                <foreach name="list" item="vo">
                    <tr>
                        <td>{$vo.create_time|date="Y-m-d H:i:s"}</td>
                        <td>{$vo.file_url}</td>
                        <td>
                            <a class="btn btn-xs btn-warning" href="{:url('gateLogDownload',['id' => $vo.id])}">下 载</a>
                        </td>
                    </tr>
                </foreach>
                </tbody>
            </table>

            <div class="page">{$page}</div>
        </div>

    </form>
</div>
<script src="__STATIC__/js/admin.js"></script>

<script>


    // $(function () {
    //
    //     function initTableCheckbox() {
    //
    //         var $thr = $('table thead tr');
    //         var $checkAllTh = $('<th><input type="checkbox" id="checkAll" name="checkAll" /></th>');
    //         /*将全选/反选复选框添加到表头最前，即增加一列*/
    //         $thr.prepend($checkAllTh);
    //         /*“全选/反选”复选框*/
    //         var $checkAll = $thr.find('input');
    //         $checkAll.click(function (event) {
    //             /*将所有行的选中状态设成全选框的选中状态*/
    //             $tbr.find('input').prop('checked', $(this).prop('checked'));
    //             /*并调整所有选中行的CSS样式*/
    //             if ($(this).prop('checked')) {
    //                 $tbr.find('input').parent().parent().addClass('warning');
    //             } else {
    //                 $tbr.find('input').parent().parent().removeClass('warning');
    //             }
    //             /*阻止向上冒泡，以防再次触发点击操作*/
    //             event.stopPropagation();
    //         });
    //         /*点击全选框所在单元格时也触发全选框的点击操作*/
    //         $checkAllTh.click(function () {
    //             $(this).find('input').click();
    //         });
    //         var $tbr = $('table tbody tr');
    //         var $checkItemTd = $('<td><input type="checkbox" name="checkItem" /></td>');
    //         /*每一行都在最前面插入一个选中复选框的单元格*/
    //         $tbr.prepend($checkItemTd);
    //         /*点击每一行的选中复选框时*/
    //         $tbr.find('input').click(function (event) {
    //             /*调整选中行的CSS样式*/
    //             $(this).parent().parent().toggleClass('warning');
    //             /*如果已经被选中行的行数等于表格的数据行数，将全选框设为选中状态，否则设为未选中状态*/
    //             $checkAll.prop('checked', $tbr.find('input:checked').length == $tbr.length ? true : false);
    //             /*阻止向上冒泡，以防再次触发点击操作*/
    //             event.stopPropagation();
    //         });
    //         /*点击每一行时也触发该行的选中操作*/
    //         $tbr.click(function () {
    //             $(this).find('input').click();
    //         });
    //     }
    //
    //     initTableCheckbox();
    // });
    /* 获取第二列的数据并相加*/
    // var allCost = 0;
    // $('#selTd tr td input:checked').parent().parent().each(function () {
    //     //如果是小数点的，则可以通过parseFloat
    //     allCost = allCost + parseFloat($(this).find("td").eq(2).text())
    // });
</script>
</body>
</html>