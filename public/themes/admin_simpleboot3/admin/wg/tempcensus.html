<include file="public@header"/>
</head>
<body>
<div class="wrap js-check-wrap">
    <ul class="nav nav-tabs">
        <li class="active"><a href="{:url('wg/getsensorlist')}">传感器列表</a></li>
       
    </ul>
    <form class="well form-inline margin-top-20" method="post" action="">
        搜索条件:
        <input type="text" class="layui-input form-control" name="select_start_time" id="test1"  value="{:input('request.select_start_time/s','')}" placeholder="请选择开始时间" style=" width:300px" autocomplete="off">
        ~
        <input type="text" class="layui-input form-control" name="select_end_time" id="test2"  value="{:input('request.select_end_time/s','')}" placeholder="请选择结束时间" style=" width:300px" autocomplete="off">
        <input type="submit" id="search" class="btn btn-primary" value="搜索"/>
        <a class="btn btn-danger" href="{:url('fjosi/fjlist')}">清空</a>
    </form>
  <div id="f1chart" style="width:100%;height:600px;margin-top: 20px;
    margin-bottom: 20px;float:left;"></div>
   
   
</div>
<script src="__STATIC__/js/admin.js"></script>
<script type="text/javascript" src='__STATIC__/js/echarts.min.js'></script>
<script type="text/javascript" src='__STATIC__/js/macarons.js'></script>
<script type="text/javascript">
    //搜索时间段
    laydate.render({
        elem: '#test1',
        type: 'datetime'
    });

    laydate.render({
        elem: '#test2'
        ,type: 'datetime'
        ,ready: function(date){
            $(".layui-laydate-footer [lay-type='datetime'].laydate-btns-time").click();
            $(".laydate-main-list-0 .layui-laydate-content li ol li:last-child").click();
            $(".layui-laydate-footer [lay-type='date'].laydate-btns-time").click();
        }
    });
    //统计组件
    var f1Chart = echarts.init( document.getElementById( "f1chart" ), 'macarons');
f1Chart.setOption({
    title : {
        text: '信号模组',
        subtext: '工作数值'
    },
    tooltip : {
        trigger: 'axis'
    },
    legend: {
        data:['数值']
    },
    toolbox: {
        show : true,
        feature : {
            mark : {show: true},
            dataView : {show: true, readOnly: false},
            magicType : {show: true, type: ['line', 'bar']},
            restore : {show: true},
            saveAsImage : {show: true}
        }
    },
    calculable : true,
    xAxis : [
        {
            type : 'category',
            boundaryGap : false,
            data :  [<volist name="list" id="vo">"{$vo.s_time}",</volist>]
        }
    ],
    yAxis : [
        {
            type : 'value',
            axisLabel : {
                formatter: '{value}'
            }
        }
    ],
    series : [
        {
            name:'数值',
            type:'line',
            data:[<volist name="list" id="vo">'{$vo.temp}',</volist>],
            markPoint : {
                data : [
                    {type : 'max', name: '最大值'},
                    {type : 'min', name: '最小值'}
                ]
            },
            markLine : {
                data : [
                    {type : 'average', name: '平均值'}
                ]
            }
        }
    
    ]
});
window.onresize = function(){
    f1Chart.resize();

}
</script>
</body>
</html>